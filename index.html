<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ù–∞—à–∞ –≥–æ–¥–æ–≤—â–∏–Ω–∞ üíú‚ù§Ô∏è</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --lav-1: #e6d3f5;
      --lav-2: #d4c4e0;
      --accent: #7b4bd6;
      --accent-dark: #5931a8;
      --text: #4b2c5e;
      --red-heart: #ff4040;
    }
    * { box-sizing: border-box }
    body {
      margin: 0; padding: 0;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--lav-1), var(--lav-2));
      color: var(--text);
      font-family: "Segoe UI", "Segoe Script", "Georgia", cursive, sans-serif;
      text-align: center;
      overflow-x: hidden;
      position: relative;
    }

    /* header */
    .wrap { max-width: 1100px; margin: 0 auto; padding: 28px }
    h1.typewriter {
      display: inline-block;
      border-right: 2px solid var(--text);
      white-space: nowrap;
      overflow: hidden;
      font-size: 2.5rem;
      padding: 8px 15px;
      animation: typing 4s steps(40, end), blink .75s step-end infinite;
      background: rgba(255, 255, 255, 0.4);
      border-radius: 15px;
      color: var(--accent);
    }
    @keyframes typing { from { width: 0 } to { width: 100% } }
    @keyframes blink { 50% { border-color: transparent } }

    /* timer */
    #timer { margin-top: 15px; font-weight: 600; font-size: 1.2rem; color: #6b4e8c; }

    /* slideshow */
    .slideshow {
      position: relative;
      max-width: 750px; margin: 30px auto 15px;
      border-radius: 20px; overflow: hidden;
      box-shadow: 0 12px 35px rgba(0, 0, 0, 0.15);
      background: rgba(255, 255, 255, 0.5);
    }
    .slide { display: none }
    .slide img { width: 100%; height: auto; display: block }
    .caption { padding: 12px 16px; background: rgba(255, 255, 255, 0.8); font-size: 1.1rem; color: var(--text) }
    .nav-btn {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: var(--accent); color: #fff; border: 0; width: 48px; height: 48px; border-radius: 50%;
      box-shadow: 0 7px 16px rgba(0, 0, 0, 0.18); cursor: pointer; font-size: 22px;
    }
    .nav-btn.prev { left: 15px }
    .nav-btn.next { right: 15px }

    /* controls */
    .controls { display: flex; gap: 15px; justify-content: center; margin: 25px 0 35px 0 }
    .btn {
      background: var(--accent); color: white; border: 0; padding: 14px 22px; border-radius: 16px;
      font-size: 1.1rem; cursor: pointer; box-shadow: 0 7px 16px rgba(0, 0, 0, 0.15)
    }
    .btn.secondary { background: transparent; color: var(--accent); border: 2px solid rgba(123, 75, 214, 0.2) }

    /* floating hearts */
    .heart {
      position: fixed; bottom: -40px; pointer-events: none; z-index: 10;
      animation: floatUp 6s linear forwards;
      transform-origin: center;
      will-change: transform, opacity;
    }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1 }
      100% { transform: translateY(-120vh) scale(1.8); opacity: 0 }
    }

    /* Reasons list */
    #reasons {
      display: none; margin: 20px auto; padding: 18px; border-radius: 14px;
      background: rgba(255, 255, 255, 0.75); max-width: 650px; text-align: left;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
    }
    #reasons ul { margin: 0; padding-left: 22px }

    /* envelope */
    .envelope {
      width: 360px; margin: 40px auto 70px; position: relative; cursor: pointer;
      perspective: 900px;
    }
    .envelope .body {
      background: #fffafa; border-radius: 12px; border: 2px solid rgba(123, 75, 214, 0.6);
      height: 190px; overflow: hidden; position: relative; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .envelope .flap {
      position: absolute; left: 0; right: 0; height: 110px; top: -55px;
      display: block; transform-origin: center bottom; transition: transform 700ms ease;
      clip-path: polygon(0 100%, 50% 0, 100% 100%);
      background: linear-gradient(180deg, rgba(123, 75, 214, 0.95), rgba(147, 112, 219, 0.9));
    }
    .envelope.open .flap { transform: translateY(55px) rotateX(180deg); }
    .letter {
      position: absolute; left: 14px; right: 14px; top: 100%; height: 100%;
      background: #fff; padding: 20px; box-sizing: border-box; border-radius: 8px;
      transition: top 700ms cubic-bezier(.2, .9, .2, 1);
      color: var(--text); font-size: 1.1rem; line-height: 1.5;
    }
    .envelope.open .letter { top: 14px; }

    /* fireworks canvas */
    canvas#fireworks { position: fixed; left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 50 }

    /* small helpers */
    .note { font-size: 0.95rem; color: #5a3f6b; margin-top: 10px }
    @media (max-width: 600px) {
      h1.typewriter { font-size: 1.6rem }
      .slideshow { max-width: 92% }
      .envelope { width: 300px; }
    }
  </style>
</head>
<body>
  <!-- audio (place music.mp3 next to this HTML) -->
  <audio id="bg-music" loop>
    <source src="Elvis - Can't Help Falling In Love.mp3" type="audio/mpeg">
  </audio>

  <div class="wrap">
    <h1 class="typewriter">–ê–ª–∏–Ω–∞, —Å –Ω–∞—à–µ–π –≥–æ–¥–æ–≤—â–∏–Ω–æ–π! üíú‚ù§Ô∏è</h1>
    <div id="timer" class="note"></div>

    <!-- slideshow -->
    <div class="slideshow" aria-hidden="false">
  <div class="slide"><img src="Photo from 2023.jpg" alt="2023"><div class="caption">2023 ‚Äî –Ω–∞—á–∞–ª–æ –Ω–∞—à–µ–π –∏—Å—Ç–æ—Ä–∏–∏ üíï</div></div>
  <div class="slide"><img src="Photo from 2024.jpg" alt="2024"><div class="caption">2024 ‚Äî –≥–æ–¥ —Å—á–∞—Å—Ç—å—è üåü</div></div>
  <div class="slide"><img src="Photo from 2025.jpg" alt="2025"><div class="caption">2025 ‚Äî —Å–∏–ª–∞ –Ω–∞—à–µ–π –ª—é–±–≤–∏ üíç</div></div>
  <button class="nav-btn prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π">‚ùÆ</button>
  <button class="nav-btn next" aria-label="–°–ª–µ–¥—É—é—â–∏–π">‚ùØ</button>
</div>

    <div class="controls">
      <button id="playMusicBtn" class="btn">–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É</button>
      <button class="btn" onclick="showSecret()">–û—Ç–∫—Ä—ã—Ç—å —Å—é—Ä–ø—Ä–∏–∑ üíú‚ù§Ô∏è</button>
      <button class="btn secondary" onclick="toggleReasons()">–ü–æ—á–µ–º—É —è —Ç–µ–±—è –ª—é–±–ª—é</button>
    </div>

    <div id="reasons" aria-hidden="true">
      <ul>
        <li>–ó–∞ —Ç–≤–æ—é —É–ª—ã–±–∫—É, –∫–æ—Ç–æ—Ä–∞—è –¥–µ–ª–∞–µ—Ç –º–∏—Ä —Å–≤–µ—Ç–ª–µ–µ.</li>
        <li>–ó–∞ –≥–ª–∞–∑–∞, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —è –Ω–∞—Ö–æ–∂—É –¥–æ–º.</li>
        <li>–ó–∞ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.</li>
        <li>–ó–∞ –Ω–µ–∂–Ω–æ—Å—Ç—å –∏ –∑–∞–±–æ—Ç—É –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.</li>
        <li>–ó–∞ —Ç–≤–æ—é –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å.</li>
        <li>–ó–∞ —Å–º–µ—Ö, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–≥—Ä–µ–≤–∞–µ—Ç –º–µ–Ω—è.</li>
        <li>–ó–∞ —É—é—Ç–Ω—ã–µ –≤–µ—á–µ—Ä–∞ –≤–º–µ—Å—Ç–µ.</li>
        <li>–ó–∞ —Å–º–µ–ª–æ—Å—Ç—å –º–µ—á—Ç–∞—Ç—å —Ä—è–¥–æ–º —Å–æ –º–Ω–æ–π.</li>
        <li>–ó–∞ —Ç–æ, —á—Ç–æ –≤–µ—Ä–∏—à—å –≤ –º–µ–Ω—è.</li>
        <li>–ó–∞ —Ç–æ, —á—Ç–æ —Ç—ã ‚Äî –º–æ—è –Ω–∞–≤—Å–µ–≥–¥–∞.</li>
      </ul>
    </div>

    <!-- envelope (secret letter) -->
    <div class="envelope" id="envelope" onclick="openEnvelope()">
      <div class="flap" aria-hidden="true"></div>
      <div class="body"></div>
      <div class="letter" role="article" aria-hidden="true">
        <strong>–î–æ—Ä–æ–≥–∞—è –ê–ª–∏–Ω–∞,</strong><br><br>
        –°–ø–∞—Å–∏–±–æ –∑–∞ –¥–≤–∞ –≥–æ–¥–∞ —Å—á–∞—Å—Ç—å—è. –Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –∫–∞–∂–¥—ã–π –Ω–∞—à –¥–µ–Ω—å –±—ã–ª –Ω–∞–ø–æ–ª–Ω–µ–Ω –ª—é–±–æ–≤—å—é, —Å–º–µ—Ö–æ–º –∏ —Å–≤–µ—Ç–æ–º.<br><br>
        –¢—ã ‚Äî –º–æ—ë —Å–µ—Ä–¥—Ü–µ, –º–æ—è –¥—É—à–∞, –º–æ—è –Ω–∞–≤—Å–µ–≥–¥–∞. –õ—é–±–ª—é —Ç–µ–±—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ üíú‚ù§Ô∏è
      </div>
    </div>

    
  </div>

  <!-- fireworks canvas -->
  <canvas id="fireworks"></canvas>

  <script>
    /* ---------- Stars background (small twinkling dots) ---------- */
    (function createStars() {
      const count = 80;
      for (let i = 0; i < count; i++) {
        const el = document.createElement('div');
        el.className = 'star';
        const size = (Math.random() * 4 + 1) + 'px';
        el.style.width = size; el.style.height = size;
        el.style.left = (Math.random() * 100) + 'vw';
        el.style.top = (Math.random() * 100) + 'vh';
        el.style.opacity = Math.random() * 0.9;
        el.style.animationDuration = (2 + Math.random() * 4) + 's';
        document.body.appendChild(el);
      }
    })();

    /* ---------- Timer (love timer) ---------- */
    function updateTimer() {
      const startDate = new Date("2023-09-17T00:00:00");
      const now = new Date();
      const diff = now - startDate;
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);
      document.getElementById('timer').textContent =
        `–ú—ã –≤–º–µ—Å—Ç–µ —É–∂–µ ${days} –¥–Ω–µ–π, ${hours} —á–∞—Å–æ–≤, ${minutes} –º–∏–Ω—É—Ç –∏ ${seconds} —Å–µ–∫—É–Ω–¥ üíï`;
    }
    setInterval(updateTimer, 1000);
    updateTimer();

    /* ---------- Slideshow ---------- */
    (function() {
      let idx = 0;
      const slides = document.querySelectorAll('.slideshow .slide');
      const prev = document.querySelector('.slideshow .prev');
      const next = document.querySelector('.slideshow .next');
      function show(i) {
        slides.forEach(s => s.style.display = 'none');
        slides[i].style.display = 'block';
      }
      prev.addEventListener('click', () => { idx = (idx - 1 + slides.length) % slides.length; show(idx); });
      next.addEventListener('click', () => { idx = (idx + 1) % slides.length; show(idx); });
      setInterval(() => { idx = (idx + 1) % slides.length; show(idx); }, 5000);
      show(0);
    })();

    /* ---------- Music control ---------- */
    const audio = document.getElementById('bg-music');
    const playBtn = document.getElementById('playMusicBtn');
    let musicPlaying = false;
    audio.volume = 0.45;
    playBtn.addEventListener('click', async () => {
      try {
        if (!musicPlaying) { await audio.play(); playBtn.textContent = '–ü–∞—É–∑–∞ –º—É–∑—ã–∫–∏'; musicPlaying = true; }
        else { audio.pause(); playBtn.textContent = '–í–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É'; musicPlaying = false; }
      } catch(e) {
        alert('–ë—Ä–∞—É–∑–µ—Ä –∑–∞–ø—Ä–µ—Ç–∏–ª –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –º—É–∑—ã–∫–∏. –ù–∞–∂–º–∏ –µ—â—ë —Ä–∞–∑ –∫–Ω–æ–ø–∫—É –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è.');
      }
    });
    audio.play().then(() => { musicPlaying = true; playBtn.textContent = '–ü–∞—É–∑–∞ –º—É–∑—ã–∫—É'; }).catch(() => {/*blocked*/});

    /* ---------- Floating hearts ---------- */
    function createHeart() {
      const h = document.createElement('div');
      h.className = 'heart';
      h.style.left = (5 + Math.random() * 90) + 'vw';
      const size = (10 + Math.random() * 30);
      h.style.fontSize = size + 'px';
      h.style.opacity = (0.6 + Math.random() * 0.4);
      h.innerText = Math.random() > 0.5 ? 'üíú' : '‚ù§Ô∏è';
      document.body.appendChild(h);
      setTimeout(() => { h.remove(); }, 6500);
    }
    const heartInterval = window.innerWidth < 600 ? 800 : 450;
    setInterval(createHeart, heartInterval);

    /* ---------- Reasons toggle ---------- */
    function toggleReasons() {
      const r = document.getElementById('reasons');
      if (r.style.display === 'block') { r.style.display = 'none'; r.setAttribute('aria-hidden', 'true'); }
      else { r.style.display = 'block'; r.setAttribute('aria-hidden', 'false'); r.scrollIntoView({ behavior: 'smooth', block: 'center' }); }
    }
    window.toggleReasons = toggleReasons;

    /* ---------- Envelope open (secret letter) ---------- */
    const envelope = document.getElementById('envelope');
    function openEnvelope() {
      envelope.classList.toggle('open');
      const letter = envelope.querySelector('.letter');
      if (envelope.classList.contains('open')) {
        letter.setAttribute('aria-hidden', 'false');
        launchFireworks();
      } else {
        letter.setAttribute('aria-hidden', 'true');
      }
    }
    window.openEnvelope = openEnvelope;

    /* ---------- Show secret (button) ---------- */
    function showSecret() {
      if (!envelope.classList.contains('open')) openEnvelope();
      envelope.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    window.showSecret = showSecret;

    /* ---------- Fireworks (simple particles) ---------- */
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    function resizeCanvas() { canvas.width = innerWidth; canvas.height = innerHeight; }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function launchFireworks() {
      const fireworks = [];
      const bursts = 8;
      for (let b = 0; b < bursts; b++) {
        const cx = innerWidth * (0.2 + Math.random() * 0.6);
        const cy = innerHeight * (0.25 + Math.random() * 0.25);
        const count = 50 + Math.floor(Math.random() * 70);
        for (let i = 0; i < count; i++) {
          fireworks.push({
            x: cx, y: cy,
            vx: (Math.random() - 0.5) * (5 + Math.random() * 7),
            vy: (Math.random() - 0.5) * (5 + Math.random() * 7),
            life: 70 + Math.floor(Math.random() * 70),
            age: 0,
            hue: Math.floor(Math.random() * 360)
          });
        }
      }

      function frame() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = fireworks.length - 1; i >= 0; i--) {
          const p = fireworks[i];
          p.age++;
          p.x += p.vx;
          p.y += p.vy + 0.15 * (p.age / 5);
          p.vx *= 0.98; p.vy *= 0.98;
          const alpha = 1 - p.age / p.life;
          ctx.beginPath();
          ctx.fillStyle = `hsla(${p.hue}, 100%, 60%, ${alpha})`;
          ctx.arc(p.x, p.y, 2.5 + (1.5 * (p.age / p.life)), 0, Math.PI * 2);
          ctx.fill();
          if (p.age > p.life) fireworks.splice(i, 1);
        }
        if (fireworks.length > 0) requestAnimationFrame(frame);
      }
      frame();
    }

    /* expose some functions for buttons */
    window.toggleReasons = toggleReasons;
    window.showSecret = showSecret;

    /* Accessibility: keyboard open envelope with Enter when focused */
    envelope.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openEnvelope(); }
    });
  </script>
</body>

</html>
